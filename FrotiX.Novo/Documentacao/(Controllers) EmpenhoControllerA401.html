<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>EmpenhoController | FrotiX</title>
  <style>
    :root { --vinho:#722F37; --vinho-light:#8B3A44; --azul:#325d88; --azul-light:#3d6f9e; --terracota:#A97B6E; --terracota-light:#C08B7E; --verde:#557570; --verde-light:#6A8A85; --cinza:#f5f7fb; --card:#fff; --texto:#1f1f1f; --shadow:0 20px 45px -18px rgba(0,0,0,.35); --radius:14px; --header-bg:#b66a3d; --code-bg:#33465c; }
    @page { size: A4; margin: 16mm; }
    * { box-sizing: border-box; }
    body { margin:0; font-family:"Segoe UI","Inter",system-ui,-apple-system,sans-serif; background: radial-gradient(circle at 12% 20%, rgba(50,93,136,.08), transparent 26%), radial-gradient(circle at 90% 10%, rgba(114,47,55,.10), transparent 30%), var(--cinza); color:var(--texto); padding:22px; display:flex; justify-content:center; }
    .page { width:210mm; max-width:100%; }
    .hero { background:var(--header-bg); color:#fff; padding:22px 24px; border-radius:var(--radius); box-shadow:0 0 0 1px #000, 0 0 0 4px #fff, var(--shadow); display:flex; align-items:center; gap:16px; }
    .hero img { width:50px; height:50px; filter:drop-shadow(0 6px 8px rgba(0,0,0,.25)); }
    h1 { margin:0; font-size:26px; letter-spacing:0.2px; }
    .subtitle { margin:6px 0 0; font-size:13px; opacity:0.92; }
    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:16px; margin-top:18px; }
    .card { background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px 18px; border:1px solid rgba(0,0,0,0.05); }
    .section-title { display:flex; align-items:center; gap:10px; margin:0 0 10px; font-size:15px; font-weight:800; color:var(--vinho); }
    .icon { width:18px; height:18px; vertical-align:middle; filter:drop-shadow(0 2px 4px rgba(0,0,0,.15)); }
    ul { margin:6px 0 0 18px; padding:0; } li { margin-bottom:6px; }
    code { background:var(--code-bg); color:#e9edf5; padding:10px 12px; border-radius:10px; display:block; white-space:pre-wrap; font-size:12px; line-height:1.45; box-shadow: inset 0 1px 0 rgba(255,255,255,0.03); }
  </style>
</head>

  <svg style="display:none" aria-hidden="true" focusable="false">
  <symbol id="fa-file-invoice-dollar" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M128 128L128 512C128 547.3 156.7 576 192 576L448 576C483.3 576 512 547.3 512 512L512 234.5C512 217.5 505.3 201.2 493.3 189.2L386.7 82.7C374.7 70.7 358.5 64 341.5 64L192 64C156.7 64 128 92.7 128 128zM192 152C192 138.7 202.7 128 216 128L264 128C277.3 128 288 138.7 288 152C288 165.3 277.3 176 264 176L216 176C202.7 176 192 165.3 192 152zM192 248C192 234.7 202.7 224 216 224L264 224C277.3 224 288 234.7 288 248C288 261.3 277.3 272 264 272L216 272C202.7 272 192 261.3 192 248zM252 380.5C252 351.7 275.2 328.3 304 328L304 324C304 313 313 304 324 304C335 304 344 313 344 324L344 328L352 328C363 328 372 337 372 348C372 359 363 368 352 368L304.5 368C297.6 368 292 373.6 292 380.5C292 386.6 296.4 391.8 302.4 392.8L344.1 399.8C369.4 404 388 425.9 388 451.6C388 477.7 369 499.3 344 503.4L344 508.1C344 519.1 335 528.1 324 528.1C313 528.1 304 519.1 304 508.1L304 504.1L280 504.1C269 504.1 260 495.1 260 484.1C260 473.1 269 464.1 280 464.1L335.5 464.1C342.4 464.1 348 458.5 348 451.6C348 445.5 343.6 440.3 337.6 439.3L295.9 432.3C270.5 428 252 406.1 252 380.5zM336 122.5L453.5 240L360 240C346.7 240 336 229.3 336 216L336 122.5z"/><path fill="currentColor" d="M216 128C202.7 128 192 138.7 192 152C192 165.3 202.7 176 216 176L264 176C277.3 176 288 165.3 288 152C288 138.7 277.3 128 264 128L216 128zM216 224C202.7 224 192 234.7 192 248C192 261.3 202.7 272 216 272L264 272C277.3 272 288 261.3 288 248C288 234.7 277.3 224 264 224L216 224zM324 304C313 304 304 313 304 324L304 328C275.2 328.3 252 351.7 252 380.5C252 406.2 270.5 428.1 295.9 432.3L337.6 439.3C343.6 440.3 348 445.5 348 451.6C348 458.5 342.4 464.1 335.5 464.1L280 464C269 464 260 473 260 484C260 495 269 504 280 504L304 504L304 508C304 519 313 528 324 528C335 528 344 519 344 508L344 503.3C369 499.2 388 477.6 388 451.5C388 425.8 369.5 403.9 344.1 399.7L302.4 392.7C296.4 391.7 292 386.5 292 380.4C292 373.5 297.6 367.9 304.5 367.9L352 367.9C363 367.9 372 358.9 372 347.9C372 336.9 363 327.9 352 327.9L344 327.9L344 323.9C344 312.9 335 303.9 324 303.9z"/></symbol>
  <symbol id="fa-info" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M272 112C272 138.5 293.5 160 320 160C346.5 160 368 138.5 368 112C368 85.5 346.5 64 320 64C293.5 64 272 85.5 272 112z"/><path fill="currentColor" d="M256 224C238.3 224 224 238.3 224 256C224 273.7 238.3 288 256 288L288 288L288 512L256 512C238.3 512 224 526.3 224 544C224 561.7 238.3 576 256 576L384 576C401.7 576 416 561.7 416 544C416 526.3 401.7 512 384 512L352 512L352 256C352 238.3 337.7 224 320 224L256 224z"/></symbol>
  <symbol id="fa-route" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M160 576L480 576C533 576 576 533 576 480C576 427 533 384 480 384L384 384C366.3 384 352 369.7 352 352C352 334.3 366.3 320 384 320L480 320C474.9 320 470.1 317.9 466.7 314C458 303.9 439.7 282 422.6 256C409.7 256 396.9 256 384 256C331 256 288 299 288 352C288 405 331 448 384 448L480 448C497.7 448 512 462.3 512 480C512 497.7 497.7 512 480 512L217.4 512C200.3 538 182 560 173.3 570C170 573.9 165.1 576 160 576z"/><path fill="currentColor" d="M384 160C384 214.5 447.8 292.1 466.7 314C470 317.9 474.9 320 480 320C485.1 320 489.9 317.9 493.3 314C512.3 292.1 576 214.4 576 160C576 107 533 64 480 64C427 64 384 107 384 160zM448 160C448 142.3 462.3 128 480 128C497.7 128 512 142.3 512 160C512 177.7 497.7 192 480 192C462.3 192 448 177.7 448 160zM64 416C64 470.5 127.8 548.1 146.7 570C150 573.9 154.9 576 160 576C165.1 576 169.9 573.9 173.3 570C192.3 548.1 256 470.4 256 416C256 363 213 320 160 320C107 320 64 363 64 416zM128 416C128 398.3 142.3 384 160 384C177.7 384 192 398.3 192 416C192 433.7 177.7 448 160 448C142.3 448 128 433.7 128 416z"/></symbol>
  <symbol id="fa-code" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M225.2 535.2C220.3 552.2 230.2 569.9 247.2 574.8C264.2 579.7 281.9 569.8 286.8 552.8L414.8 104.8C419.7 87.8 409.8 70.1 392.8 65.2C375.8 60.3 358.1 70.2 353.2 87.2L225.2 535.2z"/><path fill="currentColor" d="M457.4 201.4C444.9 213.9 444.9 234.2 457.4 246.7L530.8 320.1L457.4 393.5C444.9 406 444.9 426.3 457.4 438.8C469.9 451.3 490.2 451.3 502.7 438.8L598.7 342.8C611.2 330.3 611.2 310 598.7 297.5L502.7 201.5C490.2 189 469.9 189 457.4 201.5zM182.7 201.4C170.2 188.9 149.9 188.9 137.4 201.4L41.4 297.4C28.9 309.9 28.9 330.2 41.4 342.7L137.4 438.7C149.9 451.2 170.2 451.2 182.7 438.7C195.2 426.2 195.2 405.9 182.7 393.4L109.3 320L182.6 246.6C195.1 234.1 195.1 213.8 182.6 201.3z"/></symbol>
  <symbol id="fa-link" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M224 323.5C224 367.4 242.1 407.1 271.2 435.5C286.9 450.8 305.7 462.8 326.7 470.5C343.5 476.6 361.6 480 380.4 480C421.9 480 461.7 463.5 491 434.2L562.1 363.1C591.5 333.7 608 293.9 608 252.5C608 166 538 96 451.5 96C410.1 96 370.3 112.5 340.9 141.8L313.2 169.5C334.1 177.2 353 189.3 368.6 204.6L386.1 187.1C403.4 169.8 427 160 451.5 160C502.6 160 544 201.4 544 252.5C544 277 534.3 300.5 516.9 317.9L445.8 389C428.5 406.3 404.9 416.1 380.3 416.1C355.5 416.1 333 406.3 316.4 390.4C298.9 373.6 287.9 349.9 287.9 323.7C287.9 299.2 297.6 275.7 315 258.3L323.3 250C306.7 234.1 284.3 224.2 259.4 224.2C236.6 252.1 223.9 287.3 223.9 323.7z"/><path fill="currentColor" d="M194.2 251.1C211.5 233.8 235.1 224 259.6 224C310.5 224 352.1 265.7 352.1 316.9C352.1 341.1 342.5 364.4 325.5 381.4L316.6 390.3C333.2 406.2 355.7 416 380.4 416C403.4 388.3 416.1 353.1 416.1 316.9C416.1 230.6 346.2 160 259.6 160C218.1 160 178.3 176.5 149 205.8L77.8 276.9C48.5 306.3 32 346.1 32 387.5C32 474 102 544 188.5 544C229.9 544 269.7 527.5 299.1 498.2L326.7 470.6C305.7 462.9 286.9 450.9 271.2 435.6L253.8 453C236.5 470.3 212.9 480.1 188.4 480.1C137.3 480.1 95.9 438.7 95.9 387.6C95.9 363.1 105.6 339.6 123 322.2L194.1 251.1z"/></symbol>
  <symbol id="fa-list-check" viewBox="0 0 640 640"><!--! Font Awesome Pro 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc. --><path opacity=".4" fill="currentColor" d="M224 480C224 462.3 238.3 448 256 448L544 448C561.7 448 576 462.3 576 480C576 497.7 561.7 512 544 512L256 512C238.3 512 224 497.7 224 480zM288 160C288 142.3 302.3 128 320 128L544 128C561.7 128 576 142.3 576 160C576 177.7 561.7 192 544 192L320 192C302.3 192 288 177.7 288 160zM288 320C288 302.3 302.3 288 320 288L544 288C561.7 288 576 302.3 576 320C576 337.7 561.7 352 544 352L320 352C302.3 352 288 337.7 288 320z"/><path fill="currentColor" d="M203.7 133.8C211.3 122.9 208.7 108 197.8 100.4C186.9 92.8 172 95.4 164.4 106.3L124.7 162.8L105 143C95.6 133.7 80.4 133.7 71 143C61.6 152.3 61.7 167.6 71 177L111 217C116 222 123 224.6 130.1 223.9C137.2 223.2 143.6 219.6 147.7 213.8L203.7 133.8zM203.7 293.8C211.3 282.9 208.7 268 197.8 260.4C186.9 252.8 172 255.4 164.4 266.3L124.7 322.8L105 303C95.6 293.6 80.4 293.6 71.1 303C61.8 312.4 61.7 327.6 71 337L111 377C116 382 123 384.6 130.1 383.9C137.2 383.2 143.6 379.6 147.7 373.8L203.7 293.8zM128 520C150.1 520 168 502.1 168 480C168 457.9 150.1 440 128 440C105.9 440 88 457.9 88 480C88 502.1 105.9 520 128 520z"/></symbol>
</svg>
  <div class="page">
    <header class="hero">
      <svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-file-invoice-dollar"></use></svg>
      <div>
        <h1>EmpenhoController</h1>
        <p class="subtitle">CRUD de empenhos com validações de dependências · Última atualização: 08/01/2026 · Versão: 2.0</p>
      </div>
    </header>

    <main class="grid">
      <section class="card">
        <div class="section-title"><svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-info"></use></svg>Visão geral</div>
        <p>Gerencia empenhos vinculados a contratos ou atas. Inclui filtros por instrumento e validação de dependências (notas fiscais e movimentações) antes de excluir.</p>
        <ul>
          <li>Listagem por contrato/ata.</li>
          <li>Validações: notas fiscais e movimentações de empenho.</li>
        </ul>
      </section>

      <section class="card">
        <div class="section-title"><svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-route"></use></svg>Endpoints</div>
        <ul>
          <li><strong>GET /api/Empenho</strong> — lista empenhos. Params: <code>Id</code> (Guid), <code>instrumento</code> ("contrato"/"ata").</li>
          <li><strong>POST /api/Empenho/Delete</strong> — exclui empenho, valida dependências.</li>
        </ul>
      </section>

      <section class="card">
        <div class="section-title"><svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-code"></use></svg>Snippet (exclusão com validação)</div>
        <code>
// Conceito: exclusão segura<br>
if (await _unitOfWork.NotaFiscal.AnyAsync(n => n.EmpenhoId == id))<br>
    return BadRequest(\"Notas fiscais vinculadas\");<br>
if (await _unitOfWork.MovimentacaoEmpenho.AnyAsync(m => m.EmpenhoId == id))<br>
    return BadRequest(\"Movimentações vinculadas\");<br>
await _unitOfWork.Empenho.RemoveAsync(id);<br>
await _unitOfWork.SaveAsync();<br>
return Ok(new { success = true, message = \"Empenho excluído\" });
        </code>
      </section>

      <section class="card">
        <div class="section-title"><svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-link"></use></svg>Interconexões</div>
        <ul>
          <li>Repos: `_unitOfWork.Empenho`, `_unitOfWork.ViewEmpenhos`, `_unitOfWork.NotaFiscal`, `_unitOfWork.MovimentacaoEmpenho`.</li>
          <li>Pages: <code>Pages/Contrato/*.cshtml</code>, <code>Pages/Ata/*.cshtml</code>.</li>
        </ul>
      </section>

      <section class="card">
        <div class="section-title"><svg class="icon" aria-hidden="true" focusable="false"><use href="#fa-list-check"></use></svg>Log</div>
        <ul><li><strong>08/01/2026</strong> — Documentação inicial completa. Versão 2.0.</li></ul>
      </section>
    </main>
  </div>
</body>
</html>

