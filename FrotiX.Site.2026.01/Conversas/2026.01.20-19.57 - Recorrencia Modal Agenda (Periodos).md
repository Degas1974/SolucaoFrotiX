# Conversa: Recorrencia Modal Agenda (Periodos)

- **Data**: 2026-01-20 19:57
- **Status**: Concluída
- **Objetivo**: Exibir Data Final Recorrência e Calendário ao selecionar períodos no modal de agendamento (Agenda/Index).

## Contexto
- Problema: ao selecionar Diário/Semanal/Quinzenal não aparecia Data Final Recorrência; ao selecionar Dias Variados o calendário não surgia.
- Observação: CSS com `display: none !important` impedia exibição de alguns containers.

## Ações Executadas
- Ajuste dos seletores de containers de recorrência para IDs reais do CSHTML.
- `Utils.mostrar` passou a aplicar `display` com `!important` e aceitar `displayPadrao` (block/flex).
- `Recorrencia.atualizarVisibilidade` normaliza período/recorrente, usa try/catch e controla exibição com `display` correto.
- Documentação técnica criada para o novo módulo de recorrência unificado.

## Arquivos Trabalhados
- `wwwroot/js/agendamento/agendamento-core.js`
- `Documentacao/JavaScript/agendamento-core.md`
- `Conversas/2026.01.20-19.57 - Recorrencia Modal Agenda (Periodos).md`

## Encerramento
- **Resumo**: visibilidade de campos de recorrência corrigida para períodos D/S/Q/M/V com IDs corretos e override de CSS.
- **Status Final**: Concluída.
