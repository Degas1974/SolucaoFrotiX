@* ****************************************************************************************
 * ‚ö° ARQUIVO: Pages/Page/Forget.cshtml
 * --------------------------------------------------------------------------------------
 * üéØ OBJETIVO     : P√°gina Forgot Password (recupera√ß√£o senha) com form input username/email,
 *                   envia email com instru√ß√µes reset, template SmartAdmin n/√£o customizado FrotiX.
 * üì• ENTRADAS     : @page route /Page/Forget, @model ForgetModel (code-behind), input email/username
 *                   #lostaccount (required validation), submit form #js-login, ViewBag.CopyrightInverse
 * üì§ SA√çDAS       : P√°gina full-height auth layout com header brand-gradient (logo + link "Secure Login"),
 *                   hero "My dog ate my password" text, form card bg-faded com input recovery email +
 *                   bot√£o btn-vinho "Recover", footer copyright, background pattern-1.svg, jQuery validation
 * üîó CHAMADA POR  : Link "Forgot password?" na p√°gina /page/login, route /Page/Forget, ForgetModel.OnGet()
 * üîÑ CHAMA        : ForgetModel (code-behind OnGet/OnPost), Settings (App, AppName, IconPrefix),
 *                   /page/login (link "Secure Login" header), ~/img/logo.png, ~/img/svg/pattern-1.svg background,
 *                   ViewBag.CopyrightInverse (Html.Raw), jQuery #js-login validation, form.checkValidity(),
 *                   form action condicional **SYNTAX ERROR** {{#if app-flavor-subscript}} Handlebars em Razor!
 * üì¶ DEPEND√äNCIAS : ASP.NET Core Razor Pages, ForgetModel (code-behind), SmartSettings injection (@Settings),
 *                   Bootstrap 5 (container, card, form-group, btn btn-vinho, form validation invalid-feedback/help-block),
 *                   jQuery (validation #js-login-btn click), HTML5 form validation (checkValidity(), was-validated),
 *                   CSS classes custom (auth, bg-brand-gradient, page-logo width-mobile-auto, opacity-50,
 *                   rounded-plus, fs-xxl fw-500, hidden-sm-down)
 * üìù OBSERVA√á√ïES  : 77 linhas. P√°gina FORGOT PASSWORD template SmartAdmin - n/√£o customizado FrotiX. ViewData:
 *                   - Title: "Login" (ERRADO! deve ser "Forget Password" ou "Password Recovery")
 *                   - PageName: "page_forget"
 *                   Layout auth (page-wrapper auth, page-inner bg-brand-gradient, page-content-wrapper bg-transparent).
 *                   Header height-10 com logo + link "Already a member? Secure Login" (/page/login). Hero
 *                   flex-1 background pattern-1.svg centered bottom fixed, h2 text-white fs-xxl fw-500
 *                   "My dog ate my password" + small opacity-60 "Not a problem, happens to the best of us".
 *                   Form #js-login col-xl-6 centered, card p-4 rounded-plus bg-faded:
 *                   - **SYNTAX ERROR linha 42**: form {{#if app-flavor-subscript}} action="intel_introduction.html"
 *                     } else { } action="intel_analytics_dashboard.html" (Handlebars syntax em Razor - n/√£o funciona!)
 *                   - Input email #lostaccount required, placeholder "Recovery email", class form-control
 *                   - Invalid-feedback "No, you missed this one." (mensagem gen√©rica)
 *                   - Help-block "We will email you the instructions"
 *                   - Bot√£o #js-login-btn btn-vinho "Recover" col-md-4 ml-auto (direita)
 *                   Footer position text-center Html.Raw(ViewBag.CopyrightInverse). @section ScriptsBlock:
 *                   jQuery validation #js-login-btn click (prevent default se checkValidity false, adiciona
 *                   was-validated, coment;√°rio "Perform ajax submit here..."). Para produ√ß√£o FrotiX:
 *                   1. Corrigir Handlebars syntax (usar asp-action ou JavaScript condicional)
 *                   2. Implementar OnPost real com Identity PasswordReset (UserManager.GeneratePasswordResetTokenAsync)
 *                   3. Enviar email real (SmtpClient ou SendGrid)
 *                   4. Trocar texto "My dog ate my password" por profissional
 *                   5. Adicionar reCAPTCHA (prevenir spam)
 *                   6. Corrigir Title "Login" para "Recuperar Senha"
 **************************************************************************************** *@
@page
@model ForgetModel
@{ 
	ViewData["Title"] = "Login";
	ViewData["PageName"] = "page_forget";
}
@section HeadBlock {}
<div class="page-wrapper auth">
	<div class="page-inner bg-brand-gradient">
		<div class="page-content-wrapper bg-transparent m-0">
			<div class="height-10 w-100 shadow-lg px-4 bg-brand-gradient">
				<div class="d-flex align-items-center container p-0">
					<div class="page-logo width-mobile-auto m-0 align-items-center justify-content-center p-0 bg-transparent bg-img-none shadow-0 height-9 border-0">
						<a href="javascript:void(0)" class="page-logo-link press-scale-down d-flex align-items-center">
						<img src="~/img/logo.png" alt="@Settings.App WebApp" aria-roledescription="logo">
						<span class="page-logo-text mr-1">@Settings.AppName</span>
						</a>
					</div>
					<span class="text-white opacity-50 ml-auto mr-2 hidden-sm-down">
						Already a member?
					</span>
					<a href="/page/login" class="btn-link text-white ml-auto ml-sm-0">
						Secure Login
					</a>
				</div>
			</div>
			<div class="flex-1" style="background: url(/img/svg/pattern-1.svg) no-repeat center bottom fixed; background-size: cover;">
				<div class="container py-4 py-lg-5 my-lg-5 px-4 px-sm-0">
					<div class="row">
						<div class="col-xl-12">
							<h2 class="fs-xxl fw-500 mt-4 text-white text-center">
								"My dog ate my password"
								<small class="h3 fw-300 mt-3 mb-5 text-white opacity-60 hidden-sm-down">
								Not a problem, happens to the best of us. Just use the form below to reset it!
								</small>
							</h2>
						</div>
						<div class="col-xl-6 ml-auto mr-auto">
							<div class="card p-4 rounded-plus bg-faded">
								<form id="js-login" novalidate="" {{#if app-flavor-subscript}} action="intel_introduction.html" } else { } action="intel_analytics_dashboard.html">
									<div class="form-group">
										<label class="form-label" for="lostaccount">Your username or email</label>
										<input type="email" id="lostaccount" class="form-control" placeholder="Recovery email" required>
										<div class="invalid-feedback">No, you missed this one.</div>
										<div class="help-block">We will email you the instructions</div>
									</div>
									<div class="row no-gutters">
										<div class="col-md-4 ml-auto text-right">
											<button id="js-login-btn" type="submit" class="btn btn-vinho">Recover</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				<div class="d-block text-center text-white">
					@Html.Raw(ViewBag.CopyrightInverse)
				</div>
			</div>
		</div>
	</div>
</div>
@section ScriptsBlock {
<script>
	$("#js-login-btn").click(function(event) {
		// Fetch form to apply custom Bootstrap validation
		var form = $("#js-login")
		if (form[0].checkValidity() === false) {
			event.preventDefault()
			event.stopPropagation()
		}
		form.addClass('was-validated');
		// Perform ajax submit here...
	});
</script>
}
