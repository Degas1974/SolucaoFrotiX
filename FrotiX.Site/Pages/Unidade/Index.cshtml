@* ****************************************************************************************
 * ‚ö° ARQUIVO: Pages/Unidade/Index.cshtml
 * --------------------------------------------------------------------------------------
 * üéØ OBJETIVO     : P√°gina de listagem de Unidades Usu√°rias (departamentos/setores demandantes
 *                   de frota) com DataTable #tblUnidade (7 colunas: Sigla/Nome/Contato/Ponto/Ramal/Status/A√ß√£o),
 *                   bot√£o adicionar data-ejtip tooltip, unidade.js (AJAX list).
 * üì• ENTRADAS     : @page route /Unidade/Index, @model Unidade (MODEL DIRETO n√£o PageModel! INCONSISTENTE!),
 *                   clique bot√£o link /Unidade/Upsert, unidade.js (AJAX GET /api/Unidade loadList)
 * üì§ SA√çDAS       : Panel ftx-card-header (titulo-paginas fa-car-building "Listagem de Unidades Usu√°rias" +
 *                   btn-fundo-laranja data-ftx-loading data-ejtip fa-clone-plus "Adicionar Unidade Usu√°ria"
 *                   outline white hover), DataTable #tblUnidade (7 colunas tbody vazio), Bootstrap 5 CDN
 *                   (REDUNDANTE!), unidade.js cache busting
 * üîó CHAMADA POR  : Menu "Cadastros > Unidades Usu√°rias", route /Unidade/Index, sidebar navigation
 * üîÑ CHAMA        : @model Unidade (MODEL DIRETO - ERRADO! falta PageModel UnidadeIndexModel), /Unidade/Upsert
 *                   (link adicionar), ~/js/cadastros/unidade.js (AJAX GET /api/Unidade loadList DataTable),
 *                   Bootstrap 5 CDN (jsdelivr.net v5.3.8 CSS + JS bundle), ViewData (breadcrumb/heading
 *                   fa-chalkboard-user), Font Awesome Duotone (fa-chalkboard-user heading, fa-car-building title,
 *                   fa-clone-plus bot√£o), CSS inline (outline white @section HeadBlock + .fundo-cinza .label
 *                   N√ÉO usados!), DataTables API, data-ejtip (Syncfusion tooltip attribute - "Adicionar nova
 *                   unidade usu√°ria ao sistema")
 * üì¶ DEPEND√äNCIAS : ASP.NET Core Razor Pages, Unidade model (N√ÉO PageModel! falta UnidadeIndexModel.cs),
 *                   Bootstrap 5 CDN (REDUNDANTE), unidade.js (AJAX list/delete/toggle), DataTables jQuery plugin,
 *                   Font Awesome 6 Duotone, Syncfusion EJ2 Tooltip (data-ejtip), CSS classes custom (ftx-card-header,
 *                   ftx-card-actions, titulo-paginas, btn-fundo-laranja outline hover), data-ftx-loading,
 *                   asp-append-version (cache busting)
 * üìù OBSERVA√á√ïES  : 95 linhas. P√°gina cadastro Unidades Usu√°rias (departamentos/setores que demandam ve√≠culos).
 *                   ViewData config:
 *                   - Title: "Unidades"
 *                   - PageName: "unidade_index"
 *                   - Heading: "<i class='fa-duotone fa-chalkboard-user'></i> Cadastros: <span class='fw-300'>Unidades Usu√°rias</span>"
 *                   - Category1: "Cadastros"
 *                   - PageIcon: "fa-duotone fa-chalkboard-user"
 *                   @section HeadBlock: CSS inline **OUTLINE BRANCO PADR√ÉO FROTIX** (coment√°rio expl√≠cito):
 *                   .ftx-card-header .btn-fundo-laranja outline 2px solid rgba(255,255,255,0.5) outline-offset 1px,
 *                   hover 0.8 opacity offset 2px. CSS inline adicional (N√ÉO usado): .fundo-cinza {background:#2F4F4F;
 *                   color:aliceblue;}, .label {color:white;} (remover - sobras). Estrutura ftx-card-header:
 *                   - h2 titulo-paginas fa-car-building "Listagem de Unidades Usu√°rias"
 *                   - div ftx-card-actions: link /Unidade/Upsert btn-fundo-laranja data-ftx-loading
 *                     **data-ejtip="Adicionar nova unidade usu√°ria ao sistema"** (Syncfusion tooltip),
 *                     fa-clone-plus icon-pulse me-1 "Adicionar Unidade Usu√°ria"
 *                   Panel-content: <br/><br/> (espa√ßamento desnecess√°rio - remover) + table #tblUnidade width 100%
 *                   table-bordered table-striped. DataTable 7 colunas thead:
 *                   1. Sigla (ex: GAB, DETRAN, SEINFRA - abrevia√ß√£o unidade)
 *                   2. Nome da Unidade (nome completo departamento)
 *                   3. Contato (nome respons√°vel ou telefone)
 *                   4. Ponto (username servidor respons√°vel - ex: p_joaosilva)
 *                   5. Ramal (telefone corporativo interno)
 *                   6. Status (Ativo/Inativo)
 *                   7. A√ß√£o (bot√µes edit/delete/toggle)
 *                   Tbody vazio (preenchido via unidade.js AJAX). @section ScriptsBlock:
 *                   **Bootstrap 5 CDN REDUNDANTE** (v5.3.8 CSS + JS bundle - J√Å inclu√≠do _Layout!).
 *                   unidade.js asp-append-version="true" cache busting. **PROBLEMAS**:
 *                   1. @model Unidade (MODEL direto n√£o PageModel - criar UnidadeIndexModel.cs)
 *                   2. Bootstrap CDN redundante (remover)
 *                   3. CSS .fundo-cinza .label n√£o usado (remover)
 *                   4. <br/><br/> espa√ßamento manual (usar mt-3)
 *                   unidade.js deve: loadList() GET /api/Unidade, bot√µes a√ß√£o edit/delete/toggle, DataTable config.
 *                   Unidades CR√çTICAS para log√≠stica FrotiX - relacionamento: Unidade (1) ‚Üí Viagens (N),
 *                   Motorista (N) ‚Üí Unidade (N) (lota√ß√£o).
 **************************************************************************************** *@
@page
@model FrotiX.Models.Unidade

@{
	ViewData["Title"] = "Unidades";
	ViewData["PageName"] = "unidade_index";
	ViewData["Heading"] = "<i class='fa-duotone fa-chalkboard-user'></i> Cadastros: <span class='fw-300'>Unidades Usu√°rias</span>";
	ViewData["Category1"] = "Cadastros";
	ViewData["PageIcon"] = "fa-duotone fa-chalkboard-user";
}

@section HeadBlock {
	<style>
/* ======== OUTLINE BRANCO NO BOT√ÉO DO HEADER (Padr√£o FrotiX) ======== */
		.ftx-card-header .btn-fundo-laranja {
			outline: 2px solid rgba(255, 255, 255, 0.5) !important;
			outline-offset: 1px;
			transition: all 0.2s ease;
		}

		.ftx-card-header .btn-fundo-laranja:hover {
			outline: 2px solid rgba(255, 255, 255, 0.8) !important;
			outline-offset: 2px;
		}

	</style>
}

<style>
	.fundo-cinza {
		background-color: #2F4F4F;
		color: aliceblue;
	}

	.label {
		color: white;
	}
</style>


<div class="row">
	<div class="col-xl-12">
		<div id="panel-1" class="panel">
			<div class="panel-container show">
				<!-- HEADER DO CARD -->
				<div class="ftx-card-header">
					<h2 class="titulo-paginas">
						<i class="fa-duotone fa-car-building"></i>
						Listagem de Unidades Usu√°rias
					</h2>
					<div class="ftx-card-actions">
						<a href="/Unidade/Upsert"
						   class="btn btn-fundo-laranja"
						   data-ftx-loading
						   data-ejtip="Adicionar nova unidade usu√°ria ao sistema">
							<i class="fa-duotone fa-clone-plus icon-pulse me-1"></i>
							Adicionar Unidade Usu√°ria
						</a>
					</div>
				</div>

				<div class="panel-content ">
					<div class="box-body">
						<br /><br />
						<table id="tblUnidade" class="table table-bordered table-striped" width="100%">
							<thead>
								<tr>
									<th>Sigla</th>
									<th>Nome da Unidade</th>
									<th>Contato</th>
									<th>Ponto</th>
									<th>Ramal</th>
									<th>Status</th>
									<th>A√ß√£o</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


@section ScriptsBlock {

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" crossorigin="anonymous" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

	<script src="~/js/cadastros/unidade.js" asp-append-version="true"></script>

}
