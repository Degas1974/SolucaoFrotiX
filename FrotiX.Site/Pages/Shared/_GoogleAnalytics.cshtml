@* ****************************************************************************************
 * ‚ö° ARQUIVO: Pages/Shared/_GoogleAnalytics.cshtml
 * --------------------------------------------------------------------------------------
 * üéØ OBJETIVO     : Partial view que injeta o script do Google Analytics (Universal Analytics)
 *                   condicionalmente se Settings.Features.GoogleAnalytics = true. Tracking pageviews.
 * üì• ENTRADAS     : Settings.Features.GoogleAnalytics (flag booleano), ViewBag.GoogleAnalytics
 *                   (tracking ID - formato UA-XXXXXXXX-X ou G-XXXXXXXXXX), window context
 * üì§ SA√çDAS       : <script> tag com Google Analytics code (analytics.js), ga('create', trackingID),
 *                   ga('send', 'pageview'), GoogleAnalyticsObject window property, tracking ativo
 * üîó CHAMADA POR  : Pages/Shared/_Layout.cshtml (provavelmente no <head> ou antes </body>),
 *                   @await Html.PartialAsync("_GoogleAnalytics") ou @Html.Partial
 * üîÑ CHAMA        : https://www.google-analytics.com/analytics.js (Google CDN - Universal Analytics),
 *                   ga() function (Google Analytics API), window.GoogleAnalyticsObject
 * üì¶ DEPEND√äNCIAS : ASP.NET Core Razor Pages (Partial Views), SmartSettings injection (@Settings),
 *                   ViewBag.GoogleAnalytics (tracking ID configurado), Google Analytics script externo,
 *                   JavaScript nativo (IIFE, createElement, insertBefore)
 * üìù OBSERVA√á√ïES  : 10 linhas. Script condicional: s√≥ renderiza se Settings.Features.GoogleAnalytics = true.
 *                   C√≥digo oficial Google Analytics (Universal Analytics - analytics.js, N√ÉO GA4).
 *                   IIFE (Immediately Invoked Function Expression) para encapsular ga object.
 *                   @ViewBag.GoogleAnalytics cont√©m tracking ID (provavelmente configurado no _Layout
 *                   ou via config). a.async=1 carrega script assincronamente. ga('create', ID, 'auto')
 *                   inicializa tracking, ga('send', 'pageview') envia pageview autom√°tico.
 *                   NOTA: Universal Analytics foi descontinuado (substitu√≠do por GA4 - gtag.js).
 **************************************************************************************** *@
@if (Settings.Features.GoogleAnalytics)
{
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	  ga('create', '@ViewBag.GoogleAnalytics', 'auto');
	  ga('send', 'pageview');
	</script>
}