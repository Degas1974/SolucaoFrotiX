@* ****************************************************************************************
 * âš¡ ARQUIVO: Pages/Viagens/ItensPendentes.cshtml
 * --------------------------------------------------------------------------------------
 * ğŸ¯ OBJETIVO     : PÃ¡gina de listagem de Viagens com Itens Pendentes de devoluÃ§Ã£o (Documento,
 *                   CartÃ£o Abastecimento, Cinta, Tablet, Arla, Cabo) via tabela Bootstrap.
 * ğŸ“¥ ENTRADAS     : @page route /Viagens/ItensPendentes, @model ItensPendentesModel (code-behind),
 *                   Model.ViagensComItensPendentes (IList<Viagem> filtrada - Status="Realizada" com
 *                   6 condiÃ§Ãµes item Entregue=true AND Devolvido=false), includeProperties Motorista/Veiculo
 * ğŸ“¤ SAÃDAS       : <table class="table table-striped table-bordered"> com 4 colunas (Motorista, VeÃ­culo,
 *                   Data da Viagem, Itens Pendentes), foreach @foreach (var item in Model.ViagensComItensPendentes),
 *                   <ul> com <li> para cada item pendente (6 verificaÃ§Ãµes @if Entregue=true && Devolvido=false)
 * ğŸ”— CHAMADA POR  : Link no menu "Viagens > Itens Pendentes" ou dashboard widget, route /Viagens/ItensPendentes,
 *                   ItensPendentesModel.OnGet() (code-behind com LINQ complexo)
 * ğŸ”„ CHAMA        : ItensPendentesModel (code-behind - Pages/Viagens/ItensPendentes.cshtml.cs, documentado
 *                   anteriormente), Model.ViagensComItensPendentes (LINQ query Status="Realizada" AND
 *                   6 condiÃ§Ãµes OR: DocumentoEntregue/CartaoAbastecimento/Cinta/Tablet/Arla/Cabo),
 *                   item.Motorista.Nome, item.Veiculo.Placa, item.DataInicial.Value.ToString("dd/MM/yyyy"),
 *                   Bootstrap table classes (table-striped table-bordered)
 * ğŸ“¦ DEPENDÃŠNCIAS : ASP.NET Core Razor Pages, ItensPendentesModel (code-behind com LINQ complexo),
 *                   Bootstrap 5 (table, table-striped, table-bordered, container, my-4),
 *                   Viagem model (navigation properties Motorista.Nome, Veiculo.Placa, 12 propriedades
 *                   item: DocumentoEntregue/Devolvido, CartaoAbastecimento, Cinta, Tablet, Arla, Cabo)
 * ğŸ“ OBSERVAÃ‡Ã•ES  : 58 linhas. PÃ¡gina SIMPLES de controle de pendÃªncias de devoluÃ§Ã£o. ViewData["Title"]
 *                   "Viagens com Itens Pendentes" (SEM breadcrumb/heading config completo - arquivo basic).
 *                   Tabela 4 colunas, Ãºltima coluna "Itens Pendentes" com <ul> dinÃ¢mica:
 *                   - Documento (DocumentoEntregue && !DocumentoDevolvido)
 *                   - CartÃ£o Abastecimento (CartaoAbastecimentoEntregue && !CartaoAbastecimentoDevolvido)
 *                   - Cinta (CintaEntregue && !CintaDevolvida)
 *                   - Tablet (TabletEntregue && !TabletDevolvido)
 *                   - Arla (ArlaEntregue && !ArlaDevolvido)
 *                   - Cabo (CaboEntregue && !CaboDevolvido)
 *                   Layout container (sem panel/card wrapper). DataInicial.Value.ToString "dd/MM/yyyy"
 *                   (potencial NullReferenceException se DataInicial null - usar ?? format). Para melhorar:
 *                   adicionar ViewData breadcrumb, panel wrapper FrotiX, botÃ£o "Finalizar DevoluÃ§Ã£o",
 *                   ordenaÃ§Ã£o/filtros DataTable, destaque visual itens crÃ­ticos (tempo > X dias).
 *****************************************************************************************@
@*
 * âš¡ ARQUIVO: Pages/Viagens/ItensPendentes.cshtml
 * --------------------------------------------------------------------------------------
 * ğŸ¯ OBJETIVO     : Listagem de viagens com itens pendentes de devoluÃ§Ã£o (Documento,
 *                   CartÃ£o Abastecimento, Cinta, Tablet, Arla, Cabo) via tabela Bootstrap
 *
 * ğŸ“¥ ENTRADAS     : Model.ViagensComItensPendentes (IList<Viagem> filtrada - Status="Realizada"
 *                   com 6 verificaÃ§Ãµes: Entregue=true AND Devolvido=false)
 *
 * ğŸ“¤ SAÃDAS       : <table class="table table-striped table-bordered"> 4 colunas
 *                   (Motorista, VeÃ­culo, Data Viagem, Itens Pendentes), renderizaÃ§Ã£o
 *                   foreach @foreach (var item in Model.ViagensComItensPendentes)
 *
 * ğŸ”— CHAMADA POR  : Link menu "Viagens > Itens Pendentes", route /Viagens/ItensPendentes,
 *                   Modelo ItensPendentesModel (Pages/Viagens/ItensPendentes.cshtml.cs)
 *
 * ğŸ”„ CHAMA        : Model.ViagensComItensPendentes (LINQ query Status="Realizada" com 6 ORs),
 *                   item.Motorista.Nome, item.Veiculo.Placa, item.DataInicial.ToString()
 *
 * ğŸ“¦ DEPENDÃŠNCIAS : ASP.NET Core Razor Pages, ItensPendentesModel (code-behind),
 *                   Bootstrap 5 (table, table-striped, table-bordered, container, my-4),
 *                   Viagem model (12 propriedades item: Documento, CartaoAbastecimento,
 *                   Cinta, Tablet, Arla, Cabo com suffix Entregue/Devolvido)
 *
 * ğŸ“ OBSERVAÃ‡Ã•ES  : 58 linhas. PÃ¡gina SIMPLES de controle pendÃªncias. SEM breadcrumb/
 *                   heading config completo. Potencial NullReferenceException se
 *                   DataInicial null - usar ?? operator. Para melhorar: adicionar
 *                   ViewData breadcrumb, panel wrapper FrotiX, botÃ£o "Finalizar DevoluÃ§Ã£o",
 *                   DataTable com ordenaÃ§Ã£o/filtros, destaque visual itens crÃ­ticos
 * *@
@page
@model FrotiX.Pages.Viagens.ItensPendentesModel
@{
    ViewData["Title"] = "Viagens com Itens Pendentes";
}

<div class="container">
    <h1 class="my-4">Viagens com Itens Pendentes</h1>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Motorista</th>
                <th>VeÃ­culo</th>
                <th>Data da Viagem</th>
                <th>Itens Pendentes</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ViagensComItensPendentes)
            {
                <tr>
                    <td>@item.Motorista.Nome</td>
                    <td>@item.Veiculo.Placa</td>
                    <td>@item.DataInicial.Value.ToString("dd/MM/yyyy")</td>
                    <td>
                        <ul>
                            @if (item.DocumentoEntregue == true && item.DocumentoDevolvido == false)
                            {
                                <li>Documento</li>
                            }
                            @if (item.CartaoAbastecimentoEntregue == true && item.CartaoAbastecimentoDevolvido == false)
                            {
                                <li>CartÃ£o Abastecimento</li>
                            }
                            @if (item.CintaEntregue == true && item.CintaDevolvida == false)
                            {
                                <li>Cinta</li>
                            }
                            @if (item.TabletEntregue == true && item.TabletDevolvido == false)
                            {
                                <li>Tablet</li>
                            }
                            @if (item.ArlaEntregue == true && item.ArlaDevolvido == false)
                            {
                                <li>Arla</li>
                            }
                            @if (item.CaboEntregue == true && item.CaboDevolvido == false)
                            {
                                <li>Cabo</li>
                            }
                        </ul>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
