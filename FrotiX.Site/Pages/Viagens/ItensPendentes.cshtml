@* ****************************************************************************************
 * ‚ö° ARQUIVO: Pages/Viagens/ItensPendentes.cshtml
 * --------------------------------------------------------------------------------------
 * üéØ OBJETIVO     : P√°gina de listagem de Viagens com Itens Pendentes de devolu√ß√£o (Documento,
 *                   Cart√£o Abastecimento, Cinta, Tablet, Arla, Cabo) via tabela Bootstrap.
 * üì• ENTRADAS     : @page route /Viagens/ItensPendentes, @model ItensPendentesModel (code-behind),
 *                   Model.ViagensComItensPendentes (IList<Viagem> filtrada - Status="Realizada" com
 *                   6 condi√ß√µes item Entregue=true AND Devolvido=false), includeProperties Motorista/Veiculo
 * üì§ SA√çDAS       : <table class="table table-striped table-bordered"> com 4 colunas (Motorista, Ve√≠culo,
 *                   Data da Viagem, Itens Pendentes), foreach @foreach (var item in Model.ViagensComItensPendentes),
 *                   <ul> com <li> para cada item pendente (6 verifica√ß√µes @if Entregue=true && Devolvido=false)
 * üîó CHAMADA POR  : Link no menu "Viagens > Itens Pendentes" ou dashboard widget, route /Viagens/ItensPendentes,
 *                   ItensPendentesModel.OnGet() (code-behind com LINQ complexo)
 * üîÑ CHAMA        : ItensPendentesModel (code-behind - Pages/Viagens/ItensPendentes.cshtml.cs, documentado
 *                   anteriormente), Model.ViagensComItensPendentes (LINQ query Status="Realizada" AND
 *                   6 condi√ß√µes OR: DocumentoEntregue/CartaoAbastecimento/Cinta/Tablet/Arla/Cabo),
 *                   item.Motorista.Nome, item.Veiculo.Placa, item.DataInicial.Value.ToString("dd/MM/yyyy"),
 *                   Bootstrap table classes (table-striped table-bordered)
 * üì¶ DEPEND√äNCIAS : ASP.NET Core Razor Pages, ItensPendentesModel (code-behind com LINQ complexo),
 *                   Bootstrap 5 (table, table-striped, table-bordered, container, my-4),
 *                   Viagem model (navigation properties Motorista.Nome, Veiculo.Placa, 12 propriedades
 *                   item: DocumentoEntregue/Devolvido, CartaoAbastecimento, Cinta, Tablet, Arla, Cabo)
 * üìù OBSERVA√á√ïES  : 58 linhas. P√°gina SIMPLES de controle de pend√™ncias de devolu√ß√£o. ViewData["Title"]
 *                   "Viagens com Itens Pendentes" (SEM breadcrumb/heading config completo - arquivo basic).
 *                   Tabela 4 colunas, √∫ltima coluna "Itens Pendentes" com <ul> din√¢mica:
 *                   - Documento (DocumentoEntregue && !DocumentoDevolvido)
 *                   - Cart√£o Abastecimento (CartaoAbastecimentoEntregue && !CartaoAbastecimentoDevolvido)
 *                   - Cinta (CintaEntregue && !CintaDevolvida)
 *                   - Tablet (TabletEntregue && !TabletDevolvido)
 *                   - Arla (ArlaEntregue && !ArlaDevolvido)
 *                   - Cabo (CaboEntregue && !CaboDevolvido)
 *                   Layout container (sem panel/card wrapper). DataInicial.Value.ToString "dd/MM/yyyy"
 *                   (potencial NullReferenceException se DataInicial null - usar ?? format). Para melhorar:
 *                   adicionar ViewData breadcrumb, panel wrapper FrotiX, bot√£o "Finalizar Devolu√ß√£o",
 *                   ordena√ß√£o/filtros DataTable, destaque visual itens cr√≠ticos (tempo > X dias).
 *****************************************************************************************@
@page
@model FrotiX.Pages.Viagens.ItensPendentesModel
@{
    ViewData["Title"] = "Viagens com Itens Pendentes";
}

<div class="container">
    <h1 class="my-4">Viagens com Itens Pendentes</h1>

    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Motorista</th>
                <th>Ve√≠culo</th>
                <th>Data da Viagem</th>
                <th>Itens Pendentes</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.ViagensComItensPendentes)
            {
                <tr>
                    <td>@item.Motorista.Nome</td>
                    <td>@item.Veiculo.Placa</td>
                    <td>@item.DataInicial.Value.ToString("dd/MM/yyyy")</td>
                    <td>
                        <ul>
                            @if (item.DocumentoEntregue == true && item.DocumentoDevolvido == false)
                            {
                                <li>Documento</li>
                            }
                            @if (item.CartaoAbastecimentoEntregue == true && item.CartaoAbastecimentoDevolvido == false)
                            {
                                <li>Cart√£o Abastecimento</li>
                            }
                            @if (item.CintaEntregue == true && item.CintaDevolvida == false)
                            {
                                <li>Cinta</li>
                            }
                            @if (item.TabletEntregue == true && item.TabletDevolvido == false)
                            {
                                <li>Tablet</li>
                            }
                            @if (item.ArlaEntregue == true && item.ArlaDevolvido == false)
                            {
                                <li>Arla</li>
                            }
                            @if (item.CaboEntregue == true && item.CaboDevolvido == false)
                            {
                                <li>Cabo</li>
                            }
                        </ul>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
