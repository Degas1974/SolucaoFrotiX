@* ****************************************************************************************
 * ‚ö° ARQUIVO: Pages/Fornecedor/Index.cshtml
 * --------------------------------------------------------------------------------------
 * üéØ OBJETIVO     : P√°gina de listagem de Fornecedores com DataTable e CRUD via JavaScript
 *                   (fornecedor.js). Layout minimalista com bot√£o flutuante √† direita.
 * üì• ENTRADAS     : @Model FrotiX.Models.Fornecedor, route /Fornecedor, bot√µes CRUD delegados
 *                   no DataTable (editar/excluir/toggle status), OnGet() do IndexModel
 * üì§ SA√çDAS       : DataTable #tblFornecedor renderizado (6 colunas: Descri√ß√£o, CNPJ, Contato,
 *                   Telefone, Status, A√ß√£o), link para /Fornecedor/Upsert (novo fornecedor),
 *                   exporta√ß√µes Excel/PDF, AJAX calls /api/Fornecedor (fornecedor.js)
 * üîó CHAMADA POR  : Route /Fornecedor, navega√ß√£o sidebar (Cadastros > Fornecedores),
 *                   IndexModel.OnGet() (code-behind vazio)
 * üîÑ CHAMA        : fornecedor.js (152 linhas - loadList, delete handlers, status toggle),
 *                   /Fornecedor/Upsert (cria√ß√£o/edi√ß√£o), /api/Fornecedor/* endpoints,
 *                   data-ftx-loading (loading state), DataTables API
 * üì¶ DEPEND√äNCIAS : ASP.NET Core Razor Pages, jQuery, DataTables (table-bordered table-striped),
 *                   fornecedor.js (arquivo JavaScript externo), Bootstrap 5 (CDN),
 *                   Font Awesome 6 Duotone (fa-buildings, fa-clone-plus)
 * üìù OBSERVA√á√ïES  : 92 linhas. P√°gina simples sem header ftx-card-header (apenas float-right
 *                   panel-content com bot√£o). CSS inline minimalista (fundo-cinza #2F4F4F, label
 *                   branca). Bot√£o laranja flutuante √† direita (btn-fundo-laranja). ViewData define
 *                   icon fa-buildings. DataTable sem configura√ß√µes visuais avan√ßadas. Bootstrap 5
 *                   carregado via CDN no @section ScriptsBlock. Toda l√≥gica CRUD delegada a fornecedor.js.
 **************************************************************************************** *@
@page
@model FrotiX.Models.Fornecedor

@{
	ViewData["Title"] = "Fornecedores";
	ViewData["PageName"] = "fornecedor_index";
	ViewData["Heading"] = "<i class='fa-duotone fa-buildings'></i> Cadastros: <span class='fw-300'>Fornecedores</span>";
	ViewData["Category1"] = "Cadastros";
	ViewData["PageIcon"] = "fa-duotone fa-buildings";
}

@section HeadBlock {

}

<style>
	.fundo-cinza {
		background-color: #2F4F4F;
		color: aliceblue;
	}

	.label {
		color: white;
	}
</style>

<div class="row">
	<div class="col-xl-12">
		<div id="panel-1" class="panel">
			<div class="panel-container show">
				<div class="panel-content float-right">
					<a href="/Fornecedor/Upsert" class="btn btn-fundo-laranja" data-ftx-loading>
						<i class="fa-duotone fa-clone-plus icon-pulse me-1"></i> Adicionar Fornecedor
					</a>
				</div>
				<div class="panel-content">
					<div class="box-body">
						<br /><br />
						<table id="tblFornecedor" class="table table-bordered table-striped" width="100%">
							<thead>
								<tr>
									<th>Descricao</th>
									<th>CNPJ</th>
									<th>Contato</th>
									<th>Telefone</th>
									<th>Status</th>
									<th>A√ß√£o</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

@section ScriptsBlock {
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" crossorigin="anonymous" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

	<script>
		/***
		 * ‚ö° ARQUIVO: fornecedor.js (Externo - Arquivo dedicado)
		 * ============================================================================
		 * üì• RESPONSABILIDADES:
		 *    ‚Ä¢ loadList() - Carrega fornecedores via AJAX para DataTable
		 *    ‚Ä¢ Delete handlers - Valida√ß√£o de depend√™ncias antes de excluir
		 *    ‚Ä¢ Status toggle - Ativar/inativar fornecedor via AJAX
		 *    ‚Ä¢ Event delegation - Bot√µes .btn-editar, .btn-delete
		 *
		 * üì§ EVENTOS DISPARADOS:
		 *    ‚Ä¢ DataTable #tblFornecedor inicializado com dados din√¢micos
		 *
		 * üîó DOCUMENTA√á√ÉO COMPLETA: Ver arquivo /wwwroot/js/cadastros/fornecedor.js (152 linhas)
		 ***/
	</script>

	<script src="~/js/cadastros/fornecedor.js" asp-append-version="true"></script>
}
